# Time Tracker tmux hook configuration
#
# This configuration enables tmux to send pane focus events to `tt ingest`,
# which records them for time tracking purposes.
#
# Installation:
#   1. Build the tt binary: cargo build --release
#   2. Copy tt to your PATH: cp target/release/tt ~/.local/bin/
#   3. Add this config to your tmux: cat config/tmux-hook.conf >> ~/.tmux.conf
#   4. Reload tmux: tmux source-file ~/.tmux.conf
#
# After enabling, detach and reattach for focus events to take effect.

# Required: Enable focus events (needed for pane-focus-in/out hooks)
set -g focus-events on

# Hook: Record pane focus events for time tracking
# Runs tt ingest whenever a pane receives focus
set-hook -g pane-focus-in 'run-shell -b "tt ingest pane-focus --pane \"#{pane_id}\" --cwd \"#{pane_current_path}\" --session \"#{session_name}\" --window-index \"#{window_index}\""'
